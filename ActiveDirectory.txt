* DC(Domain-controller)
	* AD DS (active directory domain service)
		* ntds.dit store password in hash (shadow file of AD)
		* Defautl store in "%UserRoot%/NDTS" folder on all domain controller, accessible only through DC process and protocal.
	* AD DS scheme
		* Rule to creating object.
	* Domain
		* Same as DC if there is no sub-domain which creating a tree: edu.vn
	* Tree
		* Domain with children (sub-domain)
		* Children of an domain trust each other
											 edu.vn
											/	   \
									ftp.edu.vn		nuce.edu.vn
	* Forest
		* Forest are collention of trees
		* Enable trus with all domains in the fortest
		* Share common: Schema
						Configuration partition
						Global catalog to enable searching
						Enterprise Admins and Schema Admin groups
					edu.vn --------------------------------------- google.com
					/	   \									   / 		\
			ftp.edu.vn		nuce.edu.vn					vi.google.com		en.google.com
	* Organizational Units(OUs)
		* OUs are AD containers that can contain user, gruops, computer, and other OUs
		* Present your organization hierarchically and logically
		* Manage a collectin of object in consistent way
		* Delegate permissions to administer groups of objects
		* Apply policies
	* Trust
		* Directional    ------------>
		* Transitive    <============>
	* Object
		* User
			* Enables network resource access for a user
		* InetOrgPerson
			* Similar to a user account
			* Used for comaptibility with other directory services
		* Contact
			* Used primarily to assign e-mail addresses to external users
			* Does not enable network access
		* Groups
			* Userd to simplify the adminnistration of access controller
		* Computer
			* Enable authentication and auditing of computer access to resource
		* Printers
			* Used to simplify the process of locating and connection to printers
		* Shared folders
			* Enables users to search for shared folders based on properties
			
			
*Initial vector(Enumeration):
	* Netbios Scan to find target:
			└─$ nbtscan 192.168.44.0/24
			Doing NBT name scan for addresses from 192.168.44.0/24

			IP address       NetBIOS Name     Server    User             MAC address
			------------------------------------------------------------------------------
			192.168.44.138   THEPUNISHER      <server>  <unknown>        00:0c:29:21:aa:2c
			192.168.44.158   HYDRA-DC         <server>  <unknown>        00:0c:29:c8:dd:a3
	* PowerView:
		* Execute on target machine(https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1)
		  
	* BloodHound:(ref:https://book.hacktricks.xyz/windows-hardening/active-directory-methodology/bloodhound)
		* Get data on workstation:(https://github.com/BloodHoundAD/BloodHound/blob/master/Collectors/SharpHound.ps1)
								  (https://github.com/BloodHoundAD/BloodHound/blob/master/Collectors/SharpHound.exe)
			. ./SharpHound.ps1
			Invoke-BloodHound -CollectionMethod All
			./SharpHound.exe --CollectionMethods All
		* Get data on any machine with python:
			pip install bloodhound
			bloodhound-python -u administrator -p 'P@$$w0rd!' -ns 192.168.44.158 -d MARVEL.local -c all --zip
	*Ldapsreach:
			└─$ ldapsearch -H ldap://192.168.44.158 -x -LLL -W -D "administrator@MARVEL.local" -b "dc=MARVEL,dc=local" "(objectclass=computer)" "DNSHostName" "OperatingSystem"
			Enter LDAP Password:
			dn: CN=HYDRA-DC,OU=Domain Controllers,DC=MARVEL,DC=local
			operatingSystem: Windows Server 2019 Standard Evaluation
			dNSHostName: HYDRA-DC.MARVEL.local

			dn: CN=THEPUNISHER,CN=Computers,DC=MARVEL,DC=local
			operatingSystem: Windows 10 Enterprise Evaluation
			dNSHostName: THEPUNISHER.MARVEL.local

			dn: CN=SPIDERMAN,CN=Computers,DC=MARVEL,DC=local
			operatingSystem: Windows 10 Enterprise Evaluation
			dNSHostName: SPIDERMAN.MARVEL.local

			# refldap://ForestDnsZones.MARVEL.local/DC=ForestDnsZones,DC=MARVEL,DC=local

			# refldap://DomainDnsZones.MARVEL.local/DC=DomainDnsZones,DC=MARVEL,DC=local

			# refldap://MARVEL.local/CN=Configuration,DC=MARVEL,DC=local
	*
	*